# Production Environment Configuration for Click Clack Cash Flow
# Copy this file to .env and fill in your production values

# ================================
# STRIPE CONFIGURATION (REQUIRED)
# ================================
# Live Stripe secret key for production (starts with sk_live_)
STRIPE_SECRET_KEY_LIVE=sk_live_your_live_stripe_secret_key
# For development/testing only (remove in production)
STRIPE_SECRET_KEY=sk_test_your_test_stripe_secret_key

# Stripe connected account ID for payouts
CONNECTED_ACCOUNT_ID=acct_your_connected_account_id

# Stripe webhook endpoint secret (for webhook signature verification)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ================================
# DATABASE CONFIGURATION (REQUIRED)
# ================================
# PostgreSQL connection string for production
DATABASE_URL=postgresql://username:password@hostname:5432/database_name

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000

# ================================
# SERVER CONFIGURATION
# ================================
# Server port (default: 4000)
PORT=4000

# Node.js environment
NODE_ENV=production

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ================================
# PAYOUT JOB CONFIGURATION
# ================================
# Cron schedule for automated payouts (default: every 6 hours)
PAYOUT_CRON_SCHEDULE=0 */6 * * *

# Minimum payout amount in cents ($5.00)
MIN_PAYOUT_AMOUNT=500

# Maximum payout amount in cents ($1000.00)
MAX_PAYOUT_AMOUNT=100000

# Maximum retry attempts for failed payouts
MAX_RETRY_ATTEMPTS=3

# Webhook URL for payout job notifications (optional)
PAYOUT_WEBHOOK_URL=https://yourdomain.com/api/webhooks/payout-status

# ================================
# LOGGING CONFIGURATION
# ================================
# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# Log file retention days
LOG_RETENTION_DAYS=30

# Sentry DSN for error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ================================
# SECURITY CONFIGURATION
# ================================
# JWT secret for session management
JWT_SECRET=your-super-secret-jwt-key-min-32-chars

# Session timeout in milliseconds (24 hours)
SESSION_TIMEOUT=86400000

# HTTPS enforcement (set to 'true' in production)
FORCE_HTTPS=true

# Helmet security headers configuration
SECURITY_HEADERS_ENABLED=true

# ================================
# GAME CONFIGURATION
# ================================
# Coins to USD conversion rate (100 coins = $1 USD)
COINS_TO_USD_RATE=100

# Maximum energy for new users
ENERGY_MAX_DEFAULT=100

# Energy regeneration rate per minute
ENERGY_REGEN_RATE=1

# Experience points needed for level up
LEVEL_UP_THRESHOLD=1000

# ================================
# MONITORING & ALERTING
# ================================
# Health check endpoint path
HEALTH_CHECK_PATH=/health

# Metrics collection endpoint
METRICS_ENDPOINT=/metrics

# Alert webhook URL (for critical errors)
ALERT_WEBHOOK_URL=https://yourdomain.com/api/alerts

# Uptime monitoring ping URL (optional)
UPTIME_PING_URL=https://hc-ping.com/your-check-uuid

# ================================
# EXTERNAL INTEGRATIONS
# ================================
# Email service configuration (for notifications)
EMAIL_SERVICE_API_KEY=your-email-service-api-key
EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# SMS service configuration (optional)
SMS_SERVICE_API_KEY=your-sms-service-api-key

# Analytics tracking ID (optional)
ANALYTICS_TRACKING_ID=UA-XXXXXXX-X

# ================================
# BACKUP & MAINTENANCE
# ================================
# Database backup configuration
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups

# Maintenance mode flag
MAINTENANCE_MODE=false

# ================================
# LEGACY SUPABASE (DEPRECATED)
# ================================
# These are deprecated and will be removed after PostgreSQL migration
# Keep temporarily for migration process only
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
VITE_SUPABASE_URL=https://your-project.supabase.co
